#DATA
IN 1023
R2 0

#CODE
LDA T0 0
LDA T1 1
LOOP:
BBG T1 IN END
LDA T3 T1
LDA T2 IN
JMP GCD
GCDRETURN:
BNE T2 1 NOPRIME
INC T0
NOPRIME:
INC T1
JMP LOOP
GCD:
BNE T3 0 GCDNOTZERO
JMP GCDRETURN
GCDNOTZERO:
MOD T2 T3
PUSH T2
LDA T2 T3
POP T3
JMP GCD
END:
STR R2 T0
HLT